#sidebar{
    position:absolute;
    top:90px;
    left:20px;
    width:280px;
    background:var(--panel);
    padding:12px 12px 18px;
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    z-index:1100;
    border:1px solid var(--border);
    animation:floatIn 240ms ease;
}

#sidebar h2{
    margin:0 0 12px;
    font-size:18px;
    color:var(--text);
}

#sidebar h3{
    margin:0 0 8px;
    font-size:14px;
    text-transform:uppercase;
    letter-spacing:0.5px;
    color:var(--muted);
}

#sidebar input,#sidebar select{
    width:100%;
    padding:11px 12px;
    margin-top:5px;
    border-radius:10px;
    border:1px solid var(--border);
    background:#f8f9fc;
    color:var(--text);
    outline:none;
    transition:all 140ms ease;
}

#sidebar input:focus,#sidebar select:focus{
    border-color:var(--primary);
    box-shadow:0 0 0 3px rgba(29,112,184,0.16);
    background:#fff;
}

#sidebar button{
    width:100%;
    padding:11px 12px;
    margin-top:8px;
    border:none;
    border-radius:10px;
    background:var(--primary);
    color:white;
    cursor:pointer;
    font-weight:600;
    letter-spacing:0.3px;
    transition:transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
}

#sidebar button:hover{
    transform:translateY(-1px);
    box-shadow:0 8px 20px rgba(29,112,184,0.25);
    background:var(--primary-dark);
}

.btnBuscar{background:#233447!important;}
.btnBuscar:hover{background:#182531!important;}

.btnUbicacion{background:var(--accent)!important;color:#1f2d3d;}
.btnUbicacion:hover{background:#d88f00!important;}

.btnGhost{
    background:var(--primary)!important;
    color:#fff;
    border:1px solid var(--primary);
    box-shadow:0 6px 14px rgba(29,112,184,0.25)!important;
    font-weight:700;
}
.btnGhost:hover{
    background:var(--primary-dark)!important;
    border-color:var(--primary-dark);
}
.fullwidth{width:100%;}

.sugerencias{
    background:#fff;
    border:1px solid var(--border);
    border-radius:10px;
    margin-top:6px;
    max-height:220px;
    overflow-y:auto;
    display:none;
    z-index:2000;
    box-shadow:var(--shadow);
}
.sugerencia-item{
    padding:10px 12px;
    cursor:pointer;
    border-bottom:1px solid #f1f3f7;
    display:flex;
    align-items:center;
    gap:10px;
}
.sugerencia-item:last-child{border-bottom:none;}
.sugerencia-item::before{
    content:"-";
    font-size:14px;
}
.sugerencia-item:hover{background:#f4f6fb;}

hr{
    border:none;
    border-top:1px solid var(--border);
    margin:18px 0 10px;
}

.filtro-block{
    margin-bottom:16px;
}

.estado-buttons{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:8px;
}
.estado-buttons .btnGhost{
    grid-column:1/3;
}

@keyframes floatIn{
    from{transform:translateY(8px);opacity:0;}
    to{transform:translateY(0);opacity:1;}
}

.sidebar-top{display:none;}
.icon-btn{
    width:42px;
    height:42px;
    border:1px solid var(--border);
    border-radius:10px;
    background:var(--primary);
    color:#fff;
    cursor:pointer;
    box-shadow:0 6px 12px rgba(0,0,0,0.12);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:18px;
}
.top-search{
    flex:1;
    height:38px;
    padding:0 10px;
    border:1px solid var(--border);
    border-radius:10px;
}
.top-search-btn{
    height:38px;
    width:auto;
    padding:0 12px;
}

.sidebar-content{
    display:block;
}

.floating-fab{
    position:fixed;
    bottom:160px;
    right:18px;
    width:52px;
    height:52px;
    border-radius:50%;
    border:none;
    background:#1d70b8;
    color:#fff;
    font-size:24px;
    box-shadow:0 12px 24px rgba(29,112,184,0.28);
    cursor:pointer;
    display:none;
    z-index:2100;
    transition:transform 120ms ease, box-shadow 120ms ease;
}
.floating-fab.search{
    background:#1d70b8;
    background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='%23fff' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'><circle cx='11' cy='11' r='7'/><line x1='16.65' y1='16.65' x2='21' y2='21'/></svg>");
    background-repeat:no-repeat;
    background-position:center;
    background-size:55%;
    color:transparent;
}
.floating-fab.report{
    bottom:230px;
    background:#f7a800;
}
.floating-fab.offset{
    transform:translateY(60px);
}
.fab-hidden{
    display:none!important;
}

.floating-fab:active{
    transform:scale(0.97);
}

@media (min-width: 901px){
    #btnMenu{display:none;}
    .desktop-search input{
        width:100%;
        padding:10px 12px;
        border:1px solid var(--border);
        border-radius:10px;
        margin-bottom:6px;
    }
    .desktop-search .btnBuscar{
        width:100%;
    }
}

.mobile-search{
    display:none;
    position:fixed;
    top:64px;
    left:0;
    right:0;
    padding:8px 10px;
    background:rgba(255,255,255,0.96);
    z-index:1500;
    box-shadow:0 8px 16px rgba(0,0,0,0.08);
}
.mobile-search input{
    width:100%;
    padding:10px 12px;
    border-radius:10px;
    border:1px solid var(--border);
    margin-bottom:6px;
}
.mobile-search .btnBuscar{
    width:100%;
    background:#1d70b8;
    color:#fff;
    border:1px solid #1d70b8;
    border-radius:10px;
    height:42px;
}
.mobile-search .sugerencias{
    position:relative;
}

@media (max-width: 900px){
    #sidebar{
        width:90%;
        left:5%;
        top:80px;
    }
    .floating-fab{
        display:block;
    }
}

@media (max-width: 600px){
    #sidebar{
        position:fixed;
        top:70px;
        left:0;
        right:0;
        width:100%;
        max-height:calc(100vh - 90px);
        overflow:auto;
        padding:12px;
        background:rgba(255,255,255,0.98);
        backdrop-filter:blur(8px);
        transform:translateY(-110%);
        transition:transform 200ms ease;
        box-shadow:0 14px 40px rgba(0,0,0,0.16);
        z-index:2000;
    }
    #sidebar.expanded{
        transform:translateY(0);
    }
    #sidebar .sugerencias{
        position:relative;
    }
    .floating-fab{
        display:block;
        bottom:140px;
        right:12px;
    }
    .floating-fab.report{
        bottom:210px;
    }
    .sidebar-top{
        display:none;
    }
    .mobile-search{
        display:block;
    }
}
